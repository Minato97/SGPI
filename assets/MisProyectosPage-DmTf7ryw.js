import{a as b,Q as f}from"./QCard-DnYpFCHr.js";import{Q as w}from"./QPage-DK_nuJm2.js";import{_ as v}from"./TableComponent-CaIXt0RV.js";import{api as x}from"./axios-Betu2sJb.js";import{K as C,o as _,c as P,w as r,a as i,d as y,S as o,z as B,f as c}from"./index-B3W15PeQ.js";import"./render-5ozSKYE2.js";import"./use-dark-BCsfM407.js";import"./use-router-link-CZwdicpq.js";import"./QInput-B2qfRJWU.js";import"./QBtn-B5HkUs5I.js";import"./dom-BeWSrDBV.js";import"./uid-Bzmka5Fh.js";import"./QSeparator-DE86E2wC.js";import"./QList-CnJMVm5T.js";import"./QSelect-BOechrq_.js";import"./QItem-ByUYPULS.js";import"./use-prevent-scroll-CPoo3ChQ.js";import"./scroll-BpWoqF-M.js";import"./use-tick-Db393Wnc.js";import"./use-timeout-D4exlf2N.js";const U={__name:"MisProyectosPage",setup(h){const m=c([]),n=c(!1),e=c({sortBy:"id",descending:!1,page:1,rowsPerPage:5,rowsNumber:0}),g=[{name:"id",label:"ID",field:"id",sortable:!0,align:"left"},{name:"title",label:"Título",field:"title",sortable:!0,align:"left"},{name:"description",label:"Descripción",field:"description",sortable:!0,align:"left"},{name:"score",label:"Calificación",field:"score",sortable:!0,align:"center"},{name:"createAt",label:"Creado el",field:"createAt",sortable:!0,align:"center"}];async function u(l){const{page:a,rowsPerPage:s,sortBy:p,descending:d}=l.pagination;n.value=!0,o.fire({title:"Cargando...",text:"Espere un momento mientras obtenemos la información.",allowOutsideClick:!1,didOpen:()=>{o.showLoading()}});try{const t=await x.get("/projects",{params:{page:a,take:s,sortBy:p,descending:d,search:l.search}});m.value=t.data.data,e.value.rowsNumber=t.data.pagination.totalCount,e.value.page=a,e.value.rowsPerPage=t.data.pagination.take,e.value.sortBy=p,e.value.descending=d,o.close()}catch(t){console.error("Error al obtener la información:",t),o.close(),await o.fire({icon:"error",title:"Error",text:"Hubo un problema al obtener la información.",confirmButtonText:"Continuar",confirmButtonColor:B().$colors.accent})}finally{n.value=!1}}return C(()=>{u({pagination:e.value,search:""})}),(l,a)=>(_(),P(w,{class:"flex flex-center"},{default:r(()=>[i(b,{class:"login-card"},{default:r(()=>[i(f,{class:"titulo-pestana text-center"},{default:r(()=>[...a[1]||(a[1]=[y("div",{class:"text-h4 text-weight-bold text-white"},"PROYECTOS",-1)])]),_:1}),i(f,null,{default:r(()=>[i(v,{title:"Listado de proyectos",columns:g,rows:m.value,loading:n.value,pagination:e.value,"onUpdate:pagination":a[0]||(a[0]=s=>e.value=s),onRequest:u},null,8,["rows","loading","pagination"])]),_:1})]),_:1})]),_:1}))}};export{U as default};
