import{Q as F}from"./QPage-DK_nuJm2.js";import{g as U,h as D,A as E,f as h,_ as T,K as z,o as g,c as C,w as s,a as t,d as e,e as $,P as N,Q as I,t as f,M as k,S as w,N as x,i as P,ab as S}from"./index-B3W15PeQ.js";import{Q as v,a as y}from"./QCard-DnYpFCHr.js";import{u as j,a as L,Q as m}from"./QBtn-B5HkUs5I.js";import{b as O}from"./render-5ozSKYE2.js";import{api as G}from"./axios-Betu2sJb.js";import{d as M}from"./pinia-mStIRTgv.js";import{Q as _}from"./QSpace-DU876cS5.js";import{Q as V}from"./QInput-B2qfRJWU.js";import{Q as R}from"./QForm-C0oYoBzZ.js";import{Q as A}from"./QSelect-BOechrq_.js";import"./use-dark-BCsfM407.js";import"./use-router-link-CZwdicpq.js";import"./dom-BeWSrDBV.js";import"./uid-Bzmka5Fh.js";import"./QItem-ByUYPULS.js";import"./use-prevent-scroll-CPoo3ChQ.js";import"./scroll-BpWoqF-M.js";import"./use-tick-Db393Wnc.js";import"./use-timeout-D4exlf2N.js";const B=U({name:"QCardActions",props:{...j,vertical:Boolean},setup(p,{slots:l}){const d=L(p),i=E(()=>`q-card__actions ${d.value} q-card__actions--${p.vertical===!0?"vert column":"horiz row"}`);return()=>D("div",{class:i.value},O(l.default))}}),q=M("proyecto",()=>{const p=h(null),l=h(1);return{convocatoria:p,faseProceso:l,setConvocatoria:a=>{p.value=a},setFaseProceso:a=>{l.value=a},limpiarTodo:()=>{p.value=null,l.value=1}}},{persist:!0}),H={class:"row q-col-gutter-md justify-center"},K={class:"col-12 col-sm-6 col-md-4"},X={class:"text-subtitle1 text-weight-bold"},J={class:"text-caption q-mt-xs"},W={class:"text-caption q-mt-sm text-secondary"},Y={__name:"ConvocatoriasPage",setup(p){const l=q(),d=(r,o)=>{r&&l.setConvocatoria(o),l.setFaseProceso(2)},i=h([]),c=r=>{if(!r)return"No disponible";const o={year:"numeric",month:"long",day:"numeric"};return new Date(r).toLocaleDateString("es-MX",o)};async function a(){w.fire({title:"Cargando...",text:"Espere un momento mientras obtenemos la información.",allowOutsideClick:!1,didOpen:()=>{w.showLoading()}});try{const r=new Date().toISOString().split("T")[0],o=await G.get("/research-calls",{params:{"fi.startAt_lt":r,"fi.endAt_gt":r}});i.value=o.data.data,w.close()}catch(r){console.error("Error al obtener la información:",r),w.close(),await w.fire({icon:"error",title:"Error",text:"Hubo un problema al obtener la información.",confirmButtonText:"Continuar",confirmButtonColor:"#f26b1d"})}}return z(()=>{a()}),(r,o)=>(g(),C(y,{class:"login-card q-pa-md"},{default:s(()=>[t(v,{class:"titulo-pestana text-center"},{default:s(()=>[...o[1]||(o[1]=[e("div",{class:"text-h4 text-weight-bold text-white"},"Convocatorias",-1)])]),_:1}),t(v,{class:"text-secondary"},{default:s(()=>[o[5]||(o[5]=e("div",{class:"text-h5 text-weight-bold q-mb-md"},"Convocatorias Abiertas",-1)),e("div",H,[e("div",K,[t(y,{flat:"",bordered:"",class:"convocatoria-card destacada-card"},{default:s(()=>[t(v,{class:"q-pa-sm"},{default:s(()=>[...o[2]||(o[2]=[e("div",{class:"text-subtitle1 text-weight-bold"}," Sin Convocatoria – Investigación ",-1),e("div",{class:"text-caption q-mt-xs"}," Registro de proyectos de investigación sin postulación a convocatorias ",-1)])]),_:1}),t(B,{align:"right",class:"q-pa-xs"},{default:s(()=>[t(m,{onClick:o[0]||(o[0]=n=>d(!1)),flat:"",dense:"",color:"secondary",icon:"assignment",label:"Registrar"})]),_:1})]),_:1})]),(g(!0),$(N,null,I(i.value,n=>(g(),$("div",{key:n.id,class:"col-12 col-sm-6 col-md-4"},[t(y,{flat:"",bordered:"",class:"convocatoria-card otras-card"},{default:s(()=>[t(v,{class:"q-pa-sm"},{default:s(()=>[e("div",X,f(n.name),1),e("div",J,f(n.url||"Sin sitio web de consulta"),1),e("div",W,[e("div",null,[o[3]||(o[3]=e("strong",null,"Inicio:",-1)),k(" "+f(c(n.start_at)),1)]),e("div",null,[o[4]||(o[4]=e("strong",null,"Fin:",-1)),k(" "+f(c(n.end_at)),1)])])]),_:2},1024),t(B,{align:"right",class:"q-pa-xs"},{default:s(()=>[t(m,{onClick:u=>d(!0,n),flat:"",dense:"",color:"secondary",icon:"assignment",label:"Registrar"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1}),t(v,{class:"q-pa-md"},{default:s(()=>[...o[6]||(o[6]=[e("div",{class:"text-subtitle1 text-weight-bold text-secondary"},[e("strong",null,"NOTA:"),k(" Solo se muestran las convocatorias que se encuentran actualmente abiertas, tambien tiene la opción de registrar su proyecto sin postularse a una convocatoria y hacerlo despues. ")],-1)])]),_:1})]),_:1}))}},Z=T(Y,[["__scopeId","data-v-2a400537"]]),ee={class:"text-h6 text-weight-bold"},te={class:"row"},oe={class:"row q-mt-md"},se={class:"col-md-10 col-12"},le={class:"row justify-center q-gutter-sm q-mb-md"},ae={__name:"CrearProyectoPage",setup(p){const l=q(),d=()=>{l.setFaseProceso(3)},i=h({title:"hola",description:"esta es una descripcion normal para pasar la validacion del input",researchCallId:1});return(c,a)=>(g(),C(y,{class:"login-card"},{default:s(()=>[t(v,{class:"titulo-pestana text-center"},{default:s(()=>[...a[2]||(a[2]=[e("div",{class:"text-h4 text-weight-bold text-white"},"Crear nuevo proyecto",-1)])]),_:1}),t(R,{class:"q-gutter-lg",onSubmit:d},{default:s(()=>[t(_),t(v,{class:"text-secondary"},{default:s(()=>[a[5]||(a[5]=e("div",{class:"text-h5 text-weight-bold"},"Creación del Proyecto",-1)),e("div",ee," Convocatoria: "+f(x(l).convocatoria?.name||"Sin convocatoria"),1),a[6]||(a[6]=e("div",{class:"text-subtitle1"},"1-) Datos del Proyecto",-1)),t(_),e("div",te,[a[3]||(a[3]=e("div",{class:"col-md-2 col-12 text-subtitle1 text-secondary"},"Título del proyecto:",-1)),t(V,{rounded:"",outlined:"",class:"col-md-10 col-12",color:"secondary","bg-color":"white",modelValue:i.value.title,"onUpdate:modelValue":a[0]||(a[0]=r=>i.value.title=r),label:"Nombre del proyecto",type:"text","lazy-rules":"",rules:[r=>r&&r.length>0||"Por favor ingresa el nombre de tu proyecto"]},null,8,["modelValue","rules"])]),e("div",oe,[a[4]||(a[4]=e("div",{class:"col-md-2 col-12 text-subtitle1 text-secondary"}," Descripción del proyecto: ",-1)),e("div",se,[t(V,{modelValue:i.value.description,"onUpdate:modelValue":a[1]||(a[1]=r=>i.value.description=r),type:"textarea",autogrow:"",rounded:"",outlined:"",color:"secondary","bg-color":"white",label:"Describe brevemente el proyecto","lazy-rules":"",rules:[r=>r&&r.length>10||"La descripción debe tener al menos 10 caracteres"]},null,8,["modelValue","rules"])])])]),_:1}),e("div",le,[t(m,{outline:"",rounded:"",label:"Guardar Borrador",type:"submit",color:"accent",icon:"save"}),t(m,{rounded:"",label:"Crear Proyecto",type:"submit",color:"accent",icon:"send"})])]),_:1})]),_:1}))}},re={class:"text-h6 text-weight-bold"},ne={class:"q-pa-md"},ie={class:"row items-center q-mb-lg"},ce={class:"col-12 col-md-10"},de={class:"row q-mb-lg"},ue={class:"col-12 col-md-10"},me={class:"col-12 col-md-3"},pe={class:"col-12 col-md-4"},ve={class:"col-12 col-md-4"},ge={class:"col-12 col-md-1 flex column items-center q-gutter-xs"},be={class:"row justify-center q-gutter-sm q-mb-md"},fe={__name:"AgregarParticipantesPage",setup(p){const l=q(),d=()=>{l.setFaseProceso(4)},i=h({nombre:"",descripcion:"",convocatoria:null,responsable:"El usuario que esta autenticado",integrantes:[]});function c(){i.value.integrantes.push({codigo:"",nombre:"",correo:""})}function a(o){i.value.integrantes.splice(o,1)}function r(o){console.log("Registrando integrante:",i.value.integrantes[o])}return(o,n)=>(g(),C(y,{class:"login-card"},{default:s(()=>[t(v,{class:"titulo-pestana text-center"},{default:s(()=>[...n[1]||(n[1]=[e("div",{class:"text-h4 text-weight-bold text-white"},"Participantes del proyecto",-1)])]),_:1}),t(R,{class:"q-gutter-lg",onSubmit:d},{default:s(()=>[t(_),t(v,{class:"text-secondary"},{default:s(()=>[e("div",re," Convocatoria: "+f(x(l).convocatoria?.name||"Sin convocatoria"),1),n[4]||(n[4]=e("div",{class:"text-h6 text-weight-bold"},"Proyecto: Nombre del proyecto",-1)),n[5]||(n[5]=e("div",{class:"text-subtitle1"},"2-) Participantes del Proyecto",-1)),t(_),e("div",ne,[e("div",ie,[n[2]||(n[2]=e("div",{class:"col-12 col-md-2"},[e("span",{class:"text-subtitle1 text-secondary"},"Responsable del proyecto:")],-1)),e("div",ce,[t(V,{disable:"",rounded:"",outlined:"",modelValue:i.value.responsable,"onUpdate:modelValue":n[0]||(n[0]=u=>i.value.responsable=u),label:"Nombre del colaborador",color:"secondary","bg-color":"white","lazy-rules":"",rules:[u=>u&&u.length>0||"Por favor ingresa el nombre del autor"]},null,8,["modelValue","rules"])])]),e("div",de,[n[3]||(n[3]=e("div",{class:"col-12 col-md-2"},[e("span",{class:"text-subtitle1 text-secondary"},"Integrantes:")],-1)),e("div",ue,[(g(!0),$(N,null,I(i.value.integrantes,(u,Q)=>(g(),$("div",{key:Q,class:"row items-center q-col-gutter-md q-mb-md"},[e("div",me,[t(A,{"use-input":"","fill-input":"","hide-selected":"",rounded:"",outlined:"",label:"Código",modelValue:u.codigo,"onUpdate:modelValue":b=>u.codigo=b,options:[],"bg-color":"white",color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",pe,[t(A,{"use-input":"","fill-input":"","hide-selected":"",rounded:"",outlined:"",label:"Nombre",modelValue:u.nombre,"onUpdate:modelValue":b=>u.nombre=b,options:[],"bg-color":"white",color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",ve,[t(A,{"use-input":"","fill-input":"","hide-selected":"",rounded:"",outlined:"",label:"Correo",modelValue:u.correo,"onUpdate:modelValue":b=>u.correo=b,options:[],"bg-color":"white",color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",ge,[t(m,{round:"",dense:"",color:"primary",icon:"person_add",title:"Agregar",onClick:c}),t(m,{round:"",dense:"",color:"positive",icon:"check",title:"Registrar",onClick:b=>r(Q)},null,8,["onClick"]),t(m,{round:"",dense:"",color:"negative",icon:"delete",title:"Eliminar",onClick:b=>a(Q)},null,8,["onClick"])])]))),128)),t(m,{push:"",rounded:"",color:"secondary",icon:"person_add",label:"Agregar integrante",class:"q-mt-md",onClick:c})])])])]),_:1}),e("div",be,[t(m,{outline:"",rounded:"",label:"Guardar Borrador",type:"submit",color:"accent",icon:"save"}),t(m,{rounded:"",label:"Enviar Respuesta",type:"submit",color:"accent",icon:"send"})])]),_:1})]),_:1}))}},xe={class:"text-h5 text-weight-bold"},ye={class:"q-pa-md"},_e={class:"row items-center q-mb-lg"},we={class:"col-12 col-md-10"},he={class:"row justify-center q-gutter-sm q-mb-md"},Ce={__name:"SubirProyectoPage",setup(p){const l=q(),d=()=>{l.limpiarTodo()};return(i,c)=>(g(),C(y,{class:"login-card"},{default:s(()=>[t(v,{class:"titulo-pestana text-center"},{default:s(()=>[...c[0]||(c[0]=[e("div",{class:"text-h4 text-weight-bold text-white"},"Archivos del proyecto",-1)])]),_:1}),t(R,{class:"q-gutter-lg",onSubmit:d},{default:s(()=>[t(_),t(v,{class:"text-secondary"},{default:s(()=>[e("div",xe," Convocatoria: "+f(x(l).convocatoria?.name||"Sin convocatoria"),1),c[2]||(c[2]=e("div",{class:"text-h6 text-weight-bold"},"Proyecto: Nombre del proyecto",-1)),c[3]||(c[3]=e("div",{class:"text-h6 text-weight-bold"},"Responsable: Responsable del proyecto",-1)),c[4]||(c[4]=e("div",{class:"text-subtitle1"},"3-) Archivos del Proyecto",-1)),t(_),e("div",ye,[e("div",_e,[c[1]||(c[1]=e("div",{class:"col-12 col-md-2"},[e("span",{class:"text-subtitle1 text-secondary"},"Archivo del proyecto:")],-1)),e("div",we,[t(V,{type:"file",rounded:"",outlined:"",color:"secondary","bg-color":"white"})])])])]),_:1}),e("div",he,[t(m,{outline:"",rounded:"",label:"Guardar Borrador",type:"submit",color:"accent",icon:"save"}),t(m,{rounded:"",label:"Enviar Respuesta",type:"submit",color:"accent",icon:"send"})])]),_:1})]),_:1}))}},Oe={__name:"PostulacionPage",setup(p){const l=q();return(d,i)=>(g(),C(F,{class:"flex flex-center"},{default:s(()=>[P(t(Z,null,null,512),[[S,x(l).faseProceso==1]]),P(t(ae,null,null,512),[[S,x(l).faseProceso==2]]),P(t(fe,null,null,512),[[S,x(l).faseProceso==3]]),P(t(Ce,null,null,512),[[S,x(l).faseProceso==4]])]),_:1}))}};export{Oe as default};
